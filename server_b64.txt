aW1wb3J0IGh0dHAgZnJvbSAiaHR0cCI7CmltcG9ydCB7IFVSTCB9IGZyb20gInVybCI7Cgpjb25z
dCBQT1JUID0gTnVtYmVyKHByb2Nlc3MuZW52LlBPUlQgfHwgcHJvY2Vzcy5lbnYuUkVJX1BPUlQg
fHwgODA5NCk7CmNvbnN0IEhPU1QgPSBwcm9jZXNzLmVudi5IT1NUIHx8ICIxMjcuMC4wLjEiOwoK
ZnVuY3Rpb24ganNvbihyZXMsIHN0YXR1cywgb2JqLCBleHRyYUhlYWRlcnMgPSB7fSkgewogIGNv
bnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShvYmopOwogIHJlcy53cml0ZUhlYWQoc3RhdHVzLCB7
CiAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLAog
ICAgImNhY2hlLWNvbnRyb2wiOiAibm8tc3RvcmUiLAogICAgLi4uZXh0cmFIZWFkZXJzLAogIH0p
OwogIHJlcy5lbmQoYm9keSk7Cn0KCmZ1bmN0aW9uIHRleHQocmVzLCBzdGF0dXMsIGJvZHkpIHsK
ICByZXMud3JpdGVIZWFkKHN0YXR1cywgewogICAgImNvbnRlbnQtdHlwZSI6ICJ0ZXh0L3BsYWlu
OyBjaGFyc2V0PXV0Zi04IiwKICAgICJjYWNoZS1jb250cm9sIjogIm5vLXN0b3JlIiwKICB9KTsK
ICByZXMuZW5kKGJvZHkpOwp9CgpmdW5jdGlvbiBzdHJpcEFwaVByZWZpeChwYXRobmFtZSkgewog
IC8vIFNvcG9ydGEgYW1ib3MgbW9kb3M6CiAgLy8gLSBDYWRkeSBwcm94eSBzaW4gc3RyaXA6IC9h
cGkvaGVhbHRoeiBsbGVnYSBjb21vIC9hcGkvaGVhbHRoegogIC8vIC0gQ2FkZHkgaGFuZGxlX3Bh
dGg6IC9hcGkvKiBsbGVnYSBjb21vIC9oZWFsdGh6CiAgcmV0dXJuIHBhdGhuYW1lLnN0YXJ0c1dp
dGgoIi9hcGkvIikgPyBwYXRobmFtZS5zbGljZSg0KSA6IHBhdGhuYW1lOwp9CgpmdW5jdGlvbiBn
ZXRBY2Nlc3NDb2RlSGVhZGVyKHJlcSkgewogIHJldHVybiByZXEuaGVhZGVyc1sieC1yZWktYWNj
ZXNzLWNvZGUiXSB8fCByZXEuaGVhZGVyc1siWC1SRUktQUNDRVNTLUNPREUiXTsKfQoKZnVuY3Rp
b24gcmVxdWlyZUFjY2VzcyhyZXEpIHsKICBjb25zdCBleHBlY3RlZCA9IChwcm9jZXNzLmVudi5S
RUlfQUNDRVNTX0NPREUgfHwgIiIpLnRyaW0oKTsKICBpZiAoIWV4cGVjdGVkKSByZXR1cm4gdHJ1
ZTsgLy8gc2kgbm8gZXN0w6Egc2V0ZWFkbywgbm8gYmxvcXVlYW1vcyAoZXZpdGEgbG9ja291dCkK
ICBjb25zdCBnb3QgPSBTdHJpbmcoZ2V0QWNjZXNzQ29kZUhlYWRlcihyZXEpIHx8ICIiKS50cmlt
KCk7CiAgcmV0dXJuIGdvdCAmJiBnb3QgPT09IGV4cGVjdGVkOwp9Cgphc3luYyBmdW5jdGlvbiBy
ZWFkSnNvbihyZXEpIHsKICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVj
dCkgPT4gewogICAgbGV0IGRhdGEgPSAiIjsKICAgIHJlcS5vbigiZGF0YSIsIChjKSA9PiAoZGF0
YSArPSBjKSk7CiAgICByZXEub24oImVuZCIsICgpID0+IHsKICAgICAgaWYgKCFkYXRhKSByZXR1
cm4gcmVzb2x2ZSh7fSk7CiAgICAgIHRyeSB7IHJlc29sdmUoSlNPTi5wYXJzZShkYXRhKSk7IH0K
ICAgICAgY2F0Y2ggKGUpIHsgcmVqZWN0KG5ldyBFcnJvcigiQkFEX0pTT05fQk9EWSIpKTsgfQog
ICAgfSk7CiAgICByZXEub24oImVycm9yIiwgcmVqZWN0KTsKICB9KTsKfQoKZnVuY3Rpb24gYnVp
bGRUYXZpbHlDb250ZXh0KGRhdGEpIHsKICBjb25zdCByZXN1bHRzID0gQXJyYXkuaXNBcnJheShk
YXRhPy5yZXN1bHRzKSA/IGRhdGEucmVzdWx0cyA6IFtdOwogIHJldHVybiByZXN1bHRzCiAgICAu
bWFwKChyKSA9PiBgW0ZVRU5URTogJHtyLnRpdGxlIHx8ICJTaW4gdMOtdHVsbyJ9XVxuVVJMOiAk
e3IudXJsIHx8ICIifVxuQ09OVEVOSURPOiAkeyhyLmNvbnRlbnQgfHwgIiIpLnNsaWNlKDAsIDEy
MDApfWApCiAgICAuam9pbigiXG5cbi0tLVxuXG4iKTsKfQoKYXN5bmMgZnVuY3Rpb24gdGF2aWx5
U2VhcmNoKHF1ZXJ5LCBvcHRzID0ge30pIHsKICBjb25zdCBrZXkgPSAocHJvY2Vzcy5lbnYuVEFW
SUxZX0FQSV9LRVkgfHwgIiIpLnRyaW0oKTsKICBpZiAoIWtleSkgcmV0dXJuIHsgb2s6IGZhbHNl
LCBlcnJvcjogIlRBVklMWV9LRVlfTUlTU0lORyIgfTsKCiAgY29uc3QgcGF5bG9hZCA9IHsKICAg
IGFwaV9rZXk6IGtleSwKICAgIHF1ZXJ5LAogICAgc2VhcmNoX2RlcHRoOiBvcHRzLnNlYXJjaF9k
ZXB0aCB8fCAiYWR2YW5jZWQiLAogICAgaW5jbHVkZV9hbnN3ZXI6IHRydWUsCiAgICBtYXhfcmVz
dWx0czogTnVtYmVyKG9wdHMubWF4X3Jlc3VsdHMgfHwgOCksCiAgfTsKCiAgY29uc3QgciA9IGF3
YWl0IGZldGNoKCJodHRwczovL2FwaS50YXZpbHkuY29tL3NlYXJjaCIsIHsKICAgIG1ldGhvZDog
IlBPU1QiLAogICAgaGVhZGVyczogeyAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24i
IH0sCiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSwKICB9KTsKCiAgY29uc3QgdHh0
ID0gYXdhaXQgci50ZXh0KCk7CiAgbGV0IGRhdGEgPSBudWxsOwogIHRyeSB7IGRhdGEgPSBKU09O
LnBhcnNlKHR4dCk7IH0gY2F0Y2ggeyBkYXRhID0geyByYXc6IHR4dCB9OyB9CgogIGlmICghci5v
aykgewogICAgY29uc3QgZGV0YWlsID0gZGF0YT8uZGV0YWlsIHx8IGRhdGE/LmVycm9yIHx8IGBU
QVZJTFlfSFRUUF8ke3Iuc3RhdHVzfWA7CiAgICByZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiBk
ZXRhaWwsIHN0YXR1czogci5zdGF0dXMsIGRhdGEgfTsKICB9CgogIHJldHVybiB7CiAgICBvazog
dHJ1ZSwKICAgIHN0YXR1czogci5zdGF0dXMsCiAgICBkYXRhLAogICAgYW5zd2VyOiBkYXRhPy5h
bnN3ZXIgfHwgIiIsCiAgICBjb250ZXh0OiBidWlsZFRhdmlseUNvbnRleHQoZGF0YSksCiAgICBy
ZXN1bHRzQ291bnQ6IEFycmF5LmlzQXJyYXkoZGF0YT8ucmVzdWx0cykgPyBkYXRhLnJlc3VsdHMu
bGVuZ3RoIDogMCwKICB9Owp9Cgphc3luYyBmdW5jdGlvbiBnZW1pbmlHZW5lcmF0ZShtZXNzYWdl
c09yUHJvbXB0LCBtb2RlID0gImNoYXQiKSB7CiAgY29uc3Qga2V5ID0gKHByb2Nlc3MuZW52LkdF
TUlOSV9BUElfS0VZIHx8ICIiKS50cmltKCk7CiAgY29uc3QgbW9kZWwgPSAocHJvY2Vzcy5lbnYu
R0VNSU5JX01PREVMIHx8ICJnZW1pbmktMi4wLWZsYXNoIikucmVwbGFjZSgvXm1vZGVsc1wvLywg
IiIpOwogIGlmICgha2V5KSByZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiAiR0VNSU5JX0tFWV9N
SVNTSU5HIiB9OwoKICAvLyBOb3JtYWxpemFtb3MgYSB0ZXh0byAoc2ltcGxlIHkgcm9idXN0bykK
ICBsZXQgcHJvbXB0ID0gIiI7CiAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZXNPclByb21wdCkp
IHsKICAgIHByb21wdCA9IG1lc3NhZ2VzT3JQcm9tcHQubWFwKG0gPT4gYCR7bS5yb2xlIHx8ICJ1
c2VyIn06ICR7bS5jb250ZW50IHx8ICIifWApLmpvaW4oIlxuIik7CiAgfSBlbHNlIHsKICAgIHBy
b21wdCA9IFN0cmluZyhtZXNzYWdlc09yUHJvbXB0IHx8ICIiKTsKICB9CgogIGNvbnN0IHVybCA9
IGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxz
LyR7bW9kZWx9OmdlbmVyYXRlQ29udGVudD9rZXk9JHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1g
OwogIGNvbnN0IGJvZHkgPSB7CiAgICBjb250ZW50czogW3sgcm9sZTogInVzZXIiLCBwYXJ0czog
W3sgdGV4dDogcHJvbXB0IH1dIH1dLAogIH07CgogIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1cmws
IHsKICAgIG1ldGhvZDogIlBPU1QiLAogICAgaGVhZGVyczogeyAiY29udGVudC10eXBlIjogImFw
cGxpY2F0aW9uL2pzb24iIH0sCiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSwKICB9KTsK
CiAgY29uc3QgdHh0ID0gYXdhaXQgci50ZXh0KCk7CiAgbGV0IGRhdGEgPSBudWxsOwogIHRyeSB7
IGRhdGEgPSBKU09OLnBhcnNlKHR4dCk7IH0gY2F0Y2ggeyBkYXRhID0geyByYXc6IHR4dCB9OyB9
CgogIGlmICghci5vaykgewogICAgY29uc3QgbXNnID0gZGF0YT8uZXJyb3I/Lm1lc3NhZ2UgfHwg
YEdFTUlOSV9IVFRQXyR7ci5zdGF0dXN9YDsKICAgIHJldHVybiB7IG9rOiBmYWxzZSwgZXJyb3I6
IG1zZywgc3RhdHVzOiByLnN0YXR1cywgZGF0YSB9OwogIH0KCiAgY29uc3QgdGV4dE91dCA9CiAg
ICBkYXRhPy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5tYXAocCA9PiBwLnRleHQp
LmZpbHRlcihCb29sZWFuKS5qb2luKCIiKSB8fCAiIjsKCiAgLy8gSW50ZW50bzogc2kgZWwgbW9k
ZWxvIGRldm9sdmnDsyBKU09OLCBsbyBwYXJzZW8gcGFyYSBpZGVhcyAoc2luIHJvbXBlciBlbCBj
aGF0IG5vcm1hbCkKICBsZXQgcGFyc2VkID0gbnVsbCwgaWRlYXMgPSBbXTsKICB0cnkgewogICAg
cGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0T3V0KTsKICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNl
ZD8uaWRlYXMpKSBpZGVhcyA9IHBhcnNlZC5pZGVhczsKICB9IGNhdGNoIHt9CgogIHJldHVybiB7
IG9rOiB0cnVlLCBzdGF0dXM6IHIuc3RhdHVzLCB0ZXh0OiB0ZXh0T3V0LCBwYXJzZWQsIGlkZWFz
IH07Cn0KCmFzeW5jIGZ1bmN0aW9uIGVuZ2luZVJ1blRvcGljKHRvcGljKSB7CiAgY29uc3QgbmFt
ZSA9IHRvcGljPy5uYW1lIHx8ICJUb3BpYyI7CiAgY29uc3QgbWFya2V0ID0gdG9waWM/Lm1hcmtl
dCB8fCAiTWlhbWksIEZMIjsKICBjb25zdCBnb2FsID0gdG9waWM/LmdvYWwgfHwgImNhcHRhciBz
ZWxsZXJzIChsaXN0aW5ncykiOwoKICBjb25zdCBzZWFyY2hDb3VudCA9IE1hdGgubWF4KDEsIE1h
dGgubWluKDEwLCBOdW1iZXIodG9waWM/LnNlYXJjaENvdW50IHx8IDQpKSk7CiAgY29uc3QgYmFz
ZVF1ZXJpZXMgPSBbCiAgICBgYmlnZ2VzdCBtYXJrZXQgZ2FwcyBhbmQgcGFpbiBwb2ludHMgaW4g
JHtuYW1lfSBhdCAke21hcmtldH0gdXBkYXRlZCAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX1g
LAogICAgYGluZWZmaWNpZW50IGJ1c2luZXNzIG1vZGVscyBpbiAke25hbWV9ICR7bWFya2V0fWAs
CiAgICBgdW5kZXJzZXJ2ZWQgbmljaGVzIGluICR7bmFtZX0gY3VycmVudGx5YCwKICAgIGBuZXcg
c3RhcnR1cCBvcHBvcnR1bml0aWVzIGFuZCBhcmJpdHJhZ2UgaW4gJHtuYW1lfSAke21hcmtldH1g
LAogICAgYHdoYXQgY3VzdG9tZXJzIGhhdGUgYWJvdXQgJHtuYW1lfSBpbiAke21hcmtldH0gcmln
aHQgbm93YCwKICBdLnNsaWNlKDAsIHNlYXJjaENvdW50KTsKCiAgY29uc3QgdGF2ID0gW107CiAg
Zm9yIChjb25zdCBxIG9mIGJhc2VRdWVyaWVzKSB7CiAgICB0YXYucHVzaCh7IHEsIC4uLihhd2Fp
dCB0YXZpbHlTZWFyY2gocSwgeyBtYXhfcmVzdWx0czogOCwgc2VhcmNoX2RlcHRoOiJiYXNpYyIg
fSkpIH0pOwogIH0KCiAgY29uc3Qgam9pbmVkQ29udGV4dCA9IHRhdgogICAgLmZpbHRlcih4ID0+
IHgub2spCiAgICAubWFwKHggPT4gYFFVRVJZOiAke3gucX1cbiR7eC5jb250ZXh0fWApCiAgICAu
am9pbigiXG5cbj09PT09PT09PT09PT09PT09PT09PT09PVxuXG4iKTsKCiAgY29uc3QgcGVybGFQ
cm9tcHQgPSBgCkVyZXMgUkVJIEdsb2JhbCBQZXJsYXMgRW5naW5lLgpPYmpldGl2bzogZ2VuZXJh
ciBpZGVhcyBOTyBvYnZpYXMgYWRhcHRhZGFzIGEgTWlhbWksIGZvY28gbGlzdGluZ3MuCkRldnVl
bHZlIFNPTE8gSlNPTiB2w6FsaWRvIGNvbiBlbCBmb3JtYXRvOgp7ImlkZWFzIjpbeyJ0aXRsZSI6
IiIsInNuaXBwZXQiOiIiLCJzdW1tYXJ5IjoiIiwid2hhdF90aGV5X2RpZCI6IiIsIndoeV9pdF93
b3JrZWQiOiIiLCJob3dfdG9fcmVwbGljYXRlX21kIjoiIiwiYnVkZ2V0X3VzZCI6MCwiYnVkZ2V0
X3N0YXR1cyI6IkxvdyAoPCAkMWspIiwic29mbG9fc3RhdHVzIjoiTk9UX1BSRVNFTlQiLCJtb2Rl
bF9zY29yZSI6MH1dfQoKVGVtYTogJHtuYW1lfQpNZXJjYWRvOiAke21hcmtldH0KTWV0YTogJHtn
b2FsfQoKQ29udGV4dG8gKGZ1ZW50ZXMpOgoke2pvaW5lZENvbnRleHQuc2xpY2UoMCwgMjUwMDAp
fQpgLnRyaW0oKTsKCiAgY29uc3QgZyA9IGF3YWl0IGdlbWluaUdlbmVyYXRlKHBlcmxhUHJvbXB0
LCAianNvbiIpOwogIHJldHVybiB7CiAgICBvazogdHJ1ZSwKICAgIHRvcGljOiB7IG5hbWUsIG1h
cmtldCwgZ29hbCwgc2VhcmNoQ291bnQgfSwKICAgIHF1ZXJpZXM6IGJhc2VRdWVyaWVzLAogICAg
dGF2aWx5OiB0YXYubWFwKHggPT4gKHsgcTogeC5xLCBvazogeC5vaywgc3RhdHVzOiB4LnN0YXR1
cyB8fCBudWxsLCByZXN1bHRzQ291bnQ6IHgucmVzdWx0c0NvdW50IHx8IDAsIGVycm9yOiB4LmVy
cm9yIHx8IG51bGwgfSkpLAogICAgaWRlYXM6IGcuaWRlYXMgfHwgW10sCiAgICBnZW1pbmlfb2s6
IGcub2ssCiAgICBnZW1pbmlfZXJyb3I6IGcub2sgPyBudWxsIDogZy5lcnJvciwKICAgIGdlbWlu
aV90ZXh0X3ByZXZpZXc6IChnLnRleHQgfHwgIiIpLnNsaWNlKDAsIDQwMCksCiAgfTsKfQoKY29u
c3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7CiAgdHJ5
IHsKICAgIGNvbnN0IHUgPSBuZXcgVVJMKHJlcS51cmwsIGBodHRwOi8vJHtyZXEuaGVhZGVycy5o
b3N0IHx8ICJsb2NhbGhvc3QifWApOwogICAgY29uc3QgcCA9IHN0cmlwQXBpUHJlZml4KHUucGF0
aG5hbWUpOwoKICAgIC8vIGhlYWx0aHogKEdFVC9IRUFEKQogICAgaWYgKChwID09PSAiL2hlYWx0
aHoiIHx8IHAgPT09ICIvIikgJiYgKHJlcS5tZXRob2QgPT09ICJHRVQiIHx8IHJlcS5tZXRob2Qg
PT09ICJIRUFEIikpIHsKICAgICAgaWYgKHJlcS5tZXRob2QgPT09ICJIRUFEIikgeyByZXMud3Jp
dGVIZWFkKDIwMCwgeyAiY2FjaGUtY29udHJvbCI6ICJuby1zdG9yZSIgfSk7IHJldHVybiByZXMu
ZW5kKCk7IH0KICAgICAgcmV0dXJuIGpzb24ocmVzLCAyMDAsIHsgb2s6IHRydWUsIHRpbWU6IG5l
dyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KTsKICAgIH0KCiAgICAvLyBQcm90ZWdlciBlbmRwb2lu
dHMgcXVlIGdhc3RhbiBjcsOpZGl0bwogICAgY29uc3QgaXNQYWlkID0gKHAuc3RhcnRzV2l0aCgi
L3RhdmlseS8iKSB8fCBwLnN0YXJ0c1dpdGgoIi9nZW1pbmkvIikgfHwgcC5zdGFydHNXaXRoKCIv
ZW5naW5lLyIpKTsKICAgIGlmIChpc1BhaWQgJiYgIXJlcXVpcmVBY2Nlc3MocmVxKSkgcmV0dXJu
IGpzb24ocmVzLCA0MDEsIHsgb2s6IGZhbHNlLCBlcnJvcjogIlVOQVVUSE9SSVpFRCIgfSk7Cgog
ICAgaWYgKHAgPT09ICIvdGF2aWx5L3NlYXJjaCIgJiYgcmVxLm1ldGhvZCA9PT0gIlBPU1QiKSB7
CiAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZWFkSnNvbihyZXEpOwogICAgICBjb25zdCBxID0g
Ym9keS5xdWVyeSB8fCBib2R5LnEgfHwgIiI7CiAgICAgIGlmICghcSkgcmV0dXJuIGpzb24ocmVz
LCA0MDAsIHsgb2s6IGZhbHNlLCBlcnJvcjogIk1JU1NJTkdfUVVFUlkiIH0pOwogICAgICBjb25z
dCBvdXQgPSBhd2FpdCB0YXZpbHlTZWFyY2goU3RyaW5nKHEpLCBib2R5KTsKICAgICAgcmV0dXJu
IGpzb24ocmVzLCBvdXQub2sgPyAyMDAgOiA1MDIsIG91dCk7CiAgICB9CgogICAgaWYgKHAgPT09
ICIvZ2VtaW5pL2NoYXQiICYmIHJlcS5tZXRob2QgPT09ICJQT1NUIikgewogICAgICBjb25zdCBi
b2R5ID0gYXdhaXQgcmVhZEpzb24ocmVxKTsKICAgICAgY29uc3QgbXNncyA9IEFycmF5LmlzQXJy
YXkoYm9keS5tZXNzYWdlcykgPyBib2R5Lm1lc3NhZ2VzIDogbnVsbDsKICAgICAgY29uc3QgcHJv
bXB0ID0gYm9keS5wcm9tcHQgfHwgYm9keS50ZXh0IHx8ICIiOwogICAgICBjb25zdCBvdXQgPSBh
d2FpdCBnZW1pbmlHZW5lcmF0ZShtc2dzIHx8IHByb21wdCB8fCAiIik7CiAgICAgIC8vIERFVk9M
VkVNT1MgU0lFTVBSRSB0ZXh0ICsgaWRlYXMgKHNpIHB1ZGltb3MgcGFyc2VhciBKU09OKQogICAg
ICBpZiAoIW91dC5vaykgcmV0dXJuIGpzb24ocmVzLCA1MDIsIG91dCk7CiAgICAgIHJldHVybiBq
c29uKHJlcywgMjAwLCB7IG9rOiB0cnVlLCB0ZXh0OiBvdXQudGV4dCwgaWRlYXM6IG91dC5pZGVh
cyB8fCBbXSwgcGFyc2VkOiBvdXQucGFyc2VkIHx8IG51bGwgfSk7CiAgICB9CgogICAgaWYgKHAg
PT09ICIvZW5naW5lL3J1blRvcGljIiAmJiByZXEubWV0aG9kID09PSAiUE9TVCIpIHsKICAgICAg
Y29uc3QgYm9keSA9IGF3YWl0IHJlYWRKc29uKHJlcSk7CiAgICAgIGNvbnN0IG91dCA9IGF3YWl0
IGVuZ2luZVJ1blRvcGljKGJvZHkpOwogICAgICByZXR1cm4ganNvbihyZXMsIDIwMCwgb3V0KTsK
ICAgIH0KCiAgICAvLyBzdGF0dXMgKEdFVC9IRUFEKQogICAgaWYgKCh1LnBhdGhuYW1lID09PSAi
L2FwaS9zdGF0dXMiIHx8IHUucGF0aG5hbWUgPT09ICIvc3RhdHVzIikgJiYgKHJlcS5tZXRob2Qg
PT09ICJHRVQiIHx8IHJlcS5tZXRob2QgPT09ICJIRUFEIikpIHsKICAgICAgY29uc3QgZW52ID0g
cHJvY2Vzcy5lbnY7CiAgICAgIGNvbnN0IGZzID0gYXdhaXQgaW1wb3J0KCJmcyIpOwogICAgICBj
b25zdCBzYVBhdGggPSBlbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTIHx8IG51bGw7
CiAgICAgIGNvbnN0IGhhc1NBID0gc2FQYXRoID8gZnMuZXhpc3RzU3luYyhzYVBhdGgpIDogZmFs
c2U7CiAgICAgIHJldHVybiBqc29uKHJlcywgMjAwLCB7CiAgICAgICAgb2s6IHRydWUsCiAgICAg
ICAgdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICAgIGVudjogewogICAgICAg
ICAgQURNSU5fRU1BSUw6ICEhZW52LkFETUlOX0VNQUlMLAogICAgICAgICAgR09PR0xFX0FQUExJ
Q0FUSU9OX0NSRURFTlRJQUxTOiBzYVBhdGgsCiAgICAgICAgICBHT09HTEVfQVBJX0tFWTogISFl
bnYuR09PR0xFX0FQSV9LRVksCiAgICAgICAgICBHRU1JTklfQVBJX0tFWTogISFlbnYuR0VNSU5J
X0FQSV9LRVksCiAgICAgICAgICBHRU1JTklfTU9ERUw6IGVudi5HRU1JTklfTU9ERUwgfHwgbnVs
bCwKICAgICAgICAgIFRBVklMWV9BUElfS0VZOiAhIWVudi5UQVZJTFlfQVBJX0tFWQogICAgICAg
IH0sCiAgICAgICAgZHJpdmU6IHsgc2VydmljZUFjY291bnRGaWxlOiBoYXNTQSB9CiAgICAgIH0p
OwogICAgfQoKICAgIHJldHVybiBqc29uKHJlcywgNDA0LCB7IG9rOiBmYWxzZSwgZXJyb3I6ICJO
T1RfRk9VTkQiLCBwYXRoOiB1LnBhdGhuYW1lIH0pOwogIH0gY2F0Y2ggKGUpIHsKICAgIHJldHVy
biBqc29uKHJlcywgNTAwLCB7IG9rOiBmYWxzZSwgZXJyb3I6IFN0cmluZyhlPy5tZXNzYWdlIHx8
IGUpIH0pOwogIH0KfSk7CgpzZXJ2ZXIubGlzdGVuKFBPUlQsIEhPU1QsICgpID0+IHsKICBjb25z
b2xlLmxvZyhgcmVpLWFwaSBsaXN0ZW5pbmcgb24gaHR0cDovLyR7SE9TVH06JHtQT1JUfWApOwp9
KTsK
